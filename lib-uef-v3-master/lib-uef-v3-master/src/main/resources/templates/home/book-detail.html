<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${book.title}"></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    /* Bạn có thể sao chép CSS từ các trang khác vào đây để đồng bộ giao diện */
    :root { --primary: #8B4513; --secondary: #D2B48C; --light: #FAF0E6; --dark: #4A3B31; --card-bg: #FFFBF0; }
    body { font-family: 'Montserrat', sans-serif; background-color: var(--light); color: var(--dark); padding-top: 76px; }
    .book-cover-detail { max-height: 500px; width: 100%; object-fit: cover; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
    .book-info-panel { background-color: var(--card-bg); padding: 30px; border-radius: 10px; }
    .book-title-detail { font-family: 'Playfair Display', serif; color: var(--primary); }
    .info-label { font-weight: 600; color: var(--dark); }
    .info-value { color: var(--text-light-custom); }
    .btn-borrow { background-color: var(--primary); color: white; font-weight: 600; padding: 10px 25px; border-radius: 30px; }
    .btn-borrow:disabled { background-color: #ccc; }
  </style>
</head>
<body>

<main class="container my-5">
  <div class="row">
    <div class="col-md-4">
      <img th:src="${book.coverImage != null ? book.coverImage : 'https://source.unsplash.com/500x650/?book'}"
           th:alt="${book.title}" class="book-cover-detail">
    </div>
    <div class="col-md-8">
      <div class="book-info-panel">
        <h1 class="book-title-detail mb-3" th:text="${book.title}">Tên sách</h1>
        <p class="text-muted">Tác giả: <strong class="info-value" th:text="${book.author}">Tên tác giả</strong></p>
        <hr>
        <p th:text="${book.description}">Mô tả chi tiết về nội dung sách...</p>
        <hr>
        <div class="row">
          <div class="col-6 mb-2"><span class="info-label">Danh mục:</span> <span class="info-value" th:text="${book.category?.name}">Văn học</span></div>
          <div class="col-6 mb-2"><span class="info-label">Năm XB:</span> <span class="info-value" th:text="${book.publicationYear}">2020</span></div>
          <div class="col-6 mb-2"><span class="info-label">Nhà XB:</span> <span class="info-value" th:text="${book.publisher}">NXB ABC</span></div>
          <div class="col-6 mb-2"><span class="info-label">ISBN:</span> <span class="info-value" th:text="${book.isbn}">123456789</span></div>
          <div class="col-6 mb-2"><span class="info-label">Số lượng còn lại:</span> <span class="info-value fw-bold" th:text="${book.availableCopies}">5</span></div>
        </div>
        <hr>
        <div class="mt-4">
          <form th:action="@{'/borrow/' + ${book.id}}" method="post" th:if="${book.availableCopies > 0}">
            <button type="submit" class="btn btn-borrow">
              <i class="fas fa-hand-holding-heart me-2"></i> Mượn sách
            </button>
          </form>
          <div th:if="${book.availableCopies <= 0}" class="alert alert-warning">
            Hiện tại sách này đã được mượn hết. Bạn có thể đặt trước.
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>